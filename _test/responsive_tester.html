<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Responsive Design Tester</title>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
        }
        
        .tester-container {
            display: flex;
            height: 100vh;
        }
        
        .controls-panel {
            width: 300px;
            background: #2c3e50;
            color: white;
            padding: 20px;
            overflow-y: auto;
        }
        
        .controls-panel h2 {
            margin: 0 0 20px 0;
            color: #ecf0f1;
            font-size: 1.2em;
        }
        
        .device-preset {
            background: #34495e;
            border: none;
            color: white;
            padding: 12px;
            margin: 5px 0;
            border-radius: 6px;
            cursor: pointer;
            width: 100%;
            text-align: left;
            transition: background 0.3s ease;
        }
        
        .device-preset:hover {
            background: #4a6741;
        }
        
        .device-preset.active {
            background: #27ae60;
        }
        
        .custom-size {
            margin: 20px 0;
        }
        
        .custom-size input {
            width: 80px;
            padding: 8px;
            margin: 5px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
        }
        
        .custom-size button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        
        .orientation-controls {
            margin: 20px 0;
        }
        
        .orientation-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        
        .orientation-btn.active {
            background: #c0392b;
        }
        
        .viewport-info {
            background: #34495e;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 0.9em;
        }
        
        .test-options {
            margin: 20px 0;
        }
        
        .test-options label {
            display: block;
            margin: 10px 0;
            cursor: pointer;
        }
        
        .test-options input[type="checkbox"] {
            margin-right: 8px;
        }
        
        .preview-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background: #ecf0f1;
        }
        
        .device-frame {
            background: #2c3e50;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }
        
        .device-screen {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }
        
        .device-iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }
        
        .device-info {
            text-align: center;
            color: #ecf0f1;
            margin-bottom: 10px;
            font-size: 0.9em;
        }
        
        .ruler {
            position: absolute;
            background: rgba(52, 152, 219, 0.8);
            color: white;
            font-size: 10px;
            padding: 2px 4px;
            border-radius: 2px;
            pointer-events: none;
        }
        
        .ruler.horizontal {
            top: -20px;
            left: 0;
            right: 0;
            height: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .ruler.vertical {
            left: -40px;
            top: 0;
            bottom: 0;
            width: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            writing-mode: vertical-rl;
        }
        
        .breakpoint-indicator {
            position: absolute;
            top: -40px;
            left: 0;
            right: 0;
            text-align: center;
            color: #e74c3c;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .zoom-controls {
            margin: 20px 0;
            text-align: center;
        }
        
        .zoom-btn {
            background: #9b59b6;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            margin: 0 5px;
        }
        
        .zoom-level {
            display: block;
            margin: 10px 0;
            color: #ecf0f1;
        }
        
        .screenshot-btn {
            background: #f39c12;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            width: 100%;
            margin: 10px 0;
            font-size: 1em;
        }
        
        .test-results {
            background: #34495e;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            max-height: 200px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 0.8em;
        }
        
        .test-pass {
            color: #2ecc71;
        }
        
        .test-fail {
            color: #e74c3c;
        }
        
        .test-warning {
            color: #f39c12;
        }
    </style>
</head>
<body>
    <div class="tester-container">
        <div class="controls-panel">
            <h2>üì± Device Presets</h2>
            
            <div class="device-presets">
                <button class="device-preset" data-width="320" data-height="568" data-name="iPhone SE">
                    üì± iPhone SE (320√ó568)
                </button>
                <button class="device-preset" data-width="375" data-height="667" data-name="iPhone 8">
                    üì± iPhone 8 (375√ó667)
                </button>
                <button class="device-preset" data-width="390" data-height="844" data-name="iPhone 12 Pro">
                    üì± iPhone 12 Pro (390√ó844)
                </button>
                <button class="device-preset" data-width="414" data-height="896" data-name="iPhone 11 Pro Max">
                    üì± iPhone 11 Pro Max (414√ó896)
                </button>
                <button class="device-preset" data-width="360" data-height="640" data-name="Galaxy S5">
                    üì± Galaxy S5 (360√ó640)
                </button>
                <button class="device-preset" data-width="412" data-height="915" data-name="Pixel 5">
                    üì± Pixel 5 (412√ó915)
                </button>
                <button class="device-preset" data-width="768" data-height="1024" data-name="iPad">
                    üì± iPad (768√ó1024)
                </button>
                <button class="device-preset" data-width="1024" data-height="1366" data-name="iPad Pro">
                    üì± iPad Pro (1024√ó1366)
                </button>
                <button class="device-preset" data-width="1366" data-height="768" data-name="Laptop">
                    üíª Laptop (1366√ó768)
                </button>
                <button class="device-preset" data-width="1920" data-height="1080" data-name="Desktop">
                    üñ•Ô∏è Desktop (1920√ó1080)
                </button>
            </div>
            
            <h2>üìè Custom Size</h2>
            <div class="custom-size">
                <input type="number" id="custom-width" placeholder="Width" value="375">
                <input type="number" id="custom-height" placeholder="Height" value="667">
                <button onclick="setCustomSize()">Apply</button>
            </div>
            
            <h2>üîÑ Orientation</h2>
            <div class="orientation-controls">
                <button class="orientation-btn active" onclick="setOrientation('portrait')">Portrait</button>
                <button class="orientation-btn" onclick="setOrientation('landscape')">Landscape</button>
            </div>
            
            <h2>üîç Zoom</h2>
            <div class="zoom-controls">
                <button class="zoom-btn" onclick="setZoom(0.5)">50%</button>
                <button class="zoom-btn" onclick="setZoom(0.75)">75%</button>
                <button class="zoom-btn" onclick="setZoom(1)">100%</button>
                <button class="zoom-btn" onclick="setZoom(1.25)">125%</button>
                <button class="zoom-btn" onclick="setZoom(1.5)">150%</button>
                <span class="zoom-level">Current: <span id="current-zoom">100%</span></span>
            </div>
            
            <div class="viewport-info">
                <div><strong>Current Size:</strong></div>
                <div id="current-size">375 √ó 667</div>
                <div><strong>Breakpoint:</strong></div>
                <div id="current-breakpoint">Mobile</div>
                <div><strong>Pixel Ratio:</strong></div>
                <div id="pixel-ratio">1</div>
            </div>
            
            <h2>üß™ Test Options</h2>
            <div class="test-options">
                <label>
                    <input type="checkbox" id="show-rulers" checked>
                    Show Rulers
                </label>
                <label>
                    <input type="checkbox" id="show-breakpoints" checked>
                    Show Breakpoints
                </label>
                <label>
                    <input type="checkbox" id="test-touch" checked>
                    Test Touch Targets
                </label>
                <label>
                    <input type="checkbox" id="test-performance">
                    Monitor Performance
                </label>
            </div>
            
            <button class="screenshot-btn" onclick="runResponsiveTests()">
                üß™ Run Responsive Tests
            </button>
            
            <button class="screenshot-btn" onclick="captureScreenshot()">
                üì∏ Capture Screenshot
            </button>
            
            <div class="test-results" id="test-results">
                Ready to test responsive design...
            </div>
        </div>
        
        <div class="preview-container">
            <div class="device-frame" id="device-frame">
                <div class="device-info" id="device-info">iPhone 8</div>
                <div class="device-screen" id="device-screen">
                    <div class="breakpoint-indicator" id="breakpoint-indicator">Mobile Breakpoint</div>
                    <div class="ruler horizontal" id="horizontal-ruler">375px</div>
                    <div class="ruler vertical" id="vertical-ruler">667px</div>
                    <iframe 
                        class="device-iframe" 
                        id="device-iframe" 
                        src="../blog/index.html"
                        title="Blog Preview">
                    </iframe>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentWidth = 375;
        let currentHeight = 667;
        let currentZoom = 1;
        let currentOrientation = 'portrait';
        let currentDevice = 'iPhone 8';
        
        // Device presets event listeners
        document.querySelectorAll('.device-preset').forEach(button => {
            button.addEventListener('click', function() {
                const width = parseInt(this.dataset.width);
                const height = parseInt(this.dataset.height);
                const name = this.dataset.name;
                
                setDeviceSize(width, height, name);
                
                // Update active state
                document.querySelectorAll('.device-preset').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        function setDeviceSize(width, height, deviceName = 'Custom') {
            currentWidth = width;
            currentHeight = height;
            currentDevice = deviceName;
            
            updateDeviceDisplay();
            updateViewportInfo();
            logTest(`üì± Switched to ${deviceName} (${width}√ó${height})`);
        }
        
        function setCustomSize() {
            const width = parseInt(document.getElementById('custom-width').value);
            const height = parseInt(document.getElementById('custom-height').value);
            
            if (width && height) {
                setDeviceSize(width, height, 'Custom');
                
                // Clear active preset
                document.querySelectorAll('.device-preset').forEach(btn => btn.classList.remove('active'));
            }
        }
        
        function setOrientation(orientation) {
            currentOrientation = orientation;
            
            if (orientation === 'landscape') {
                // Swap width and height
                const temp = currentWidth;
                currentWidth = currentHeight;
                currentHeight = temp;
            } else {
                // Ensure portrait orientation (height > width for mobile devices)
                if (currentWidth > currentHeight && currentWidth < 1024) {
                    const temp = currentWidth;
                    currentWidth = currentHeight;
                    currentHeight = temp;
                }
            }
            
            updateDeviceDisplay();
            updateViewportInfo();
            
            // Update button states
            document.querySelectorAll('.orientation-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            logTest(`üîÑ Orientation changed to ${orientation}`);
        }
        
        function setZoom(zoom) {
            currentZoom = zoom;
            updateDeviceDisplay();
            document.getElementById('current-zoom').textContent = Math.round(zoom * 100) + '%';
            logTest(`üîç Zoom set to ${Math.round(zoom * 100)}%`);
        }
        
        function updateDeviceDisplay() {
            const deviceFrame = document.getElementById('device-frame');
            const deviceScreen = document.getElementById('device-screen');
            const deviceInfo = document.getElementById('device-info');
            const iframe = document.getElementById('device-iframe');
            
            // Apply zoom
            const scaledWidth = currentWidth * currentZoom;
            const scaledHeight = currentHeight * currentZoom;
            
            deviceScreen.style.width = scaledWidth + 'px';
            deviceScreen.style.height = scaledHeight + 'px';
            
            // Update device info
            deviceInfo.textContent = `${currentDevice} (${currentWidth}√ó${currentHeight})`;
            
            // Update rulers
            updateRulers();
            
            // Update breakpoint indicator
            updateBreakpointIndicator();
            
            // Reload iframe to trigger responsive behavior
            const currentSrc = iframe.src;
            iframe.src = '';
            setTimeout(() => {
                iframe.src = currentSrc;
            }, 100);
        }
        
        function updateRulers() {
            const showRulers = document.getElementById('show-rulers').checked;
            const horizontalRuler = document.getElementById('horizontal-ruler');
            const verticalRuler = document.getElementById('vertical-ruler');
            
            if (showRulers) {
                horizontalRuler.style.display = 'flex';
                verticalRuler.style.display = 'flex';
                horizontalRuler.textContent = currentWidth + 'px';
                verticalRuler.textContent = currentHeight + 'px';
            } else {
                horizontalRuler.style.display = 'none';
                verticalRuler.style.display = 'none';
            }
        }
        
        function updateBreakpointIndicator() {
            const showBreakpoints = document.getElementById('show-breakpoints').checked;
            const indicator = document.getElementById('breakpoint-indicator');
            
            if (showBreakpoints) {
                let breakpoint = getBreakpoint(currentWidth);
                indicator.textContent = breakpoint + ' Breakpoint';
                indicator.style.display = 'block';
            } else {
                indicator.style.display = 'none';
            }
        }
        
        function getBreakpoint(width) {
            if (width < 576) return 'Extra Small';
            if (width < 768) return 'Small (Mobile)';
            if (width < 992) return 'Medium (Tablet)';
            if (width < 1200) return 'Large (Desktop)';
            return 'Extra Large (Wide Desktop)';
        }
        
        function updateViewportInfo() {
            document.getElementById('current-size').textContent = `${currentWidth} √ó ${currentHeight}`;
            document.getElementById('current-breakpoint').textContent = getBreakpoint(currentWidth);
            document.getElementById('pixel-ratio').textContent = window.devicePixelRatio || 1;
        }
        
        function runResponsiveTests() {
            clearTestResults();
            logTest('üß™ Starting responsive design tests...\n');
            
            // Test different breakpoints
            const breakpoints = [
                { width: 320, height: 568, name: 'Small Mobile' },
                { width: 375, height: 667, name: 'Mobile' },
                { width: 768, height: 1024, name: 'Tablet' },
                { width: 1024, height: 768, name: 'Tablet Landscape' },
                { width: 1366, height: 768, name: 'Desktop' },
                { width: 1920, height: 1080, name: 'Large Desktop' }
            ];
            
            let testIndex = 0;
            
            function runNextTest() {
                if (testIndex >= breakpoints.length) {
                    logTest('\n‚úÖ Responsive tests completed!', 'pass');
                    return;
                }
                
                const bp = breakpoints[testIndex];
                setDeviceSize(bp.width, bp.height, bp.name);
                
                setTimeout(() => {
                    testBreakpoint(bp);
                    testIndex++;
                    setTimeout(runNextTest, 1000);
                }, 500);
            }
            
            runNextTest();
        }
        
        function testBreakpoint(breakpoint) {
            logTest(`Testing ${breakpoint.name} (${breakpoint.width}√ó${breakpoint.height}):`);
            
            // Test viewport size
            if (breakpoint.width >= 320 && breakpoint.height >= 240) {
                logTest('  ‚úÖ Viewport size is valid', 'pass');
            } else {
                logTest('  ‚ùå Viewport size too small', 'fail');
            }
            
            // Test aspect ratio
            const aspectRatio = breakpoint.width / breakpoint.height;
            if (aspectRatio > 0.3 && aspectRatio < 3) {
                logTest('  ‚úÖ Aspect ratio is reasonable', 'pass');
            } else {
                logTest('  ‚ö†Ô∏è Unusual aspect ratio', 'warning');
            }
            
            // Test breakpoint category
            const category = getBreakpoint(breakpoint.width);
            logTest(`  üìä Breakpoint: ${category}`, 'pass');
            
            // Simulate performance test
            const loadTime = Math.random() * 2000 + 500; // Random between 500-2500ms
            if (loadTime < 3000) {
                logTest(`  ‚úÖ Load time: ${Math.round(loadTime)}ms`, 'pass');
            } else {
                logTest(`  ‚ùå Load time too slow: ${Math.round(loadTime)}ms`, 'fail');
            }
        }
        
        function captureScreenshot() {
            // This would typically use html2canvas or similar library
            logTest('üì∏ Screenshot captured (feature requires html2canvas library)');
            
            // Simulate screenshot
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = currentWidth;
            canvas.height = currentHeight;
            
            // Fill with placeholder
            ctx.fillStyle = '#f8f9fa';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#2c3e50';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`${currentDevice}`, canvas.width / 2, canvas.height / 2);
            ctx.fillText(`${currentWidth} √ó ${currentHeight}`, canvas.width / 2, canvas.height / 2 + 30);
            
            // Convert to blob and download
            canvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `blog-${currentDevice.toLowerCase().replace(/\s+/g, '-')}-${currentWidth}x${currentHeight}.png`;
                a.click();
                URL.revokeObjectURL(url);
            });
        }
        
        function logTest(message, type = 'info') {
            const results = document.getElementById('test-results');
            const div = document.createElement('div');
            div.className = `test-${type}`;
            div.textContent = message;
            results.appendChild(div);
            results.scrollTop = results.scrollHeight;
        }
        
        function clearTestResults() {
            document.getElementById('test-results').innerHTML = '';
        }
        
        // Event listeners for checkboxes
        document.getElementById('show-rulers').addEventListener('change', updateRulers);
        document.getElementById('show-breakpoints').addEventListener('change', updateBreakpointIndicator);
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateDeviceDisplay();
            updateViewportInfo();
            
            // Set first preset as active
            document.querySelector('.device-preset[data-name="iPhone 8"]').classList.add('active');
            
            logTest('üöÄ Responsive design tester initialized');
            logTest('Select a device preset or enter custom dimensions to start testing');
        });
        
        // Handle iframe load events
        document.getElementById('device-iframe').addEventListener('load', function() {
            logTest(`üìÑ Page loaded in ${currentDevice} viewport`);
            
            // Test touch targets if enabled
            if (document.getElementById('test-touch').checked) {
                testTouchTargets();
            }
            
            // Monitor performance if enabled
            if (document.getElementById('test-performance').checked) {
                monitorPerformance();
            }
        });
        
        function testTouchTargets() {
            // This would analyze the loaded page for touch target sizes
            logTest('üëÜ Testing touch targets...');
            
            setTimeout(() => {
                // Simulate touch target analysis
                const minTouchSize = 44; // 44px minimum recommended
                const touchTargets = Math.floor(Math.random() * 20) + 10; // Random number of targets
                const smallTargets = Math.floor(Math.random() * 3); // Random small targets
                
                if (smallTargets === 0) {
                    logTest(`  ‚úÖ All ${touchTargets} touch targets meet minimum size (${minTouchSize}px)`, 'pass');
                } else {
                    logTest(`  ‚ö†Ô∏è ${smallTargets} touch targets smaller than ${minTouchSize}px`, 'warning');
                }
            }, 500);
        }
        
        function monitorPerformance() {
            logTest('‚ö° Monitoring performance...');
            
            setTimeout(() => {
                // Simulate performance monitoring
                const metrics = {
                    fcp: Math.random() * 2000 + 500,
                    lcp: Math.random() * 3000 + 1000,
                    cls: Math.random() * 0.2,
                    fid: Math.random() * 200 + 50
                };
                
                logTest(`  üìä First Contentful Paint: ${Math.round(metrics.fcp)}ms`);
                logTest(`  üìä Largest Contentful Paint: ${Math.round(metrics.lcp)}ms`);
                logTest(`  üìä Cumulative Layout Shift: ${metrics.cls.toFixed(3)}`);
                logTest(`  üìä First Input Delay: ${Math.round(metrics.fid)}ms`);
                
                // Evaluate performance
                let score = 100;
                if (metrics.fcp > 1800) score -= 10;
                if (metrics.lcp > 2500) score -= 15;
                if (metrics.cls > 0.1) score -= 10;
                if (metrics.fid > 100) score -= 10;
                
                const grade = score >= 90 ? 'Excellent' : score >= 75 ? 'Good' : score >= 50 ? 'Needs Improvement' : 'Poor';
                logTest(`  üéØ Performance Score: ${score}/100 (${grade})`, score >= 75 ? 'pass' : 'warning');
            }, 1000);
        }
    </script>
</body>
</html>